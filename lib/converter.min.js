/**
 * splunk-spl-to-elasticsearch-dsl - Convert Splunk SPL to Elasticsearch DSL with pegjs
 * @version v2.2.0
 * @author wangfucheng <wangfucheng@machloop.com>
 * @buildAt 2021-03-05T03:24:35.630Z
 */
function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,u=void 0;try{for(var i,a=r[Symbol.iterator]();!(n=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,u=r}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return e}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function ownKeys(t,r){var e,n=Object.keys(t);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(t),r&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,e)),n}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(e),!0).forEach(function(r){_defineProperty(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function _defineProperty(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}(function(r,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():r.splToDslConverter=t()})(this,function(){"use strict";function on(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,on)}function r(){this.constructor=t}var t,e;return t=on,e=Error,r.prototype=e.prototype,t.prototype=new r,on.buildMessage=function(r,t){var e,u={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){for(var t="",e=0;e<r.parts.length;e++)t+=r.parts[e]instanceof Array?i(r.parts[e][0])+"-"+i(r.parts[e][1]):i(r.parts[e]);return"["+(r.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}function i(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}return"Expected "+function(r){for(var t,e,n=new Array(r.length),o=0;o<r.length;o++)n[o]=(e=r[o],u[e.type](e));if(n.sort(),0<n.length){for(t=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[t]=n[o],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+((e=t)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:on,parse:function(h,r){var p={},t={start:Oe},e=Oe,c=_e("DslExpression"),s=function(r,t){var e={},n={},o={};t.forEach(function(r){r&&r[3]&&(r[3].hasOwnProperty("gentimes")?(o=r[3].gentimes,n={bool:{must:{range:_defineProperty({},o.time_field,{from:o.time_from,to:o.time_to,include_lower:!0,include_upper:!1})}}}):e=Object.assign(e,r[3]))});r=function(r,t){var e=nn(r),n=nn(t);if(e&&n)return{query:{match_all:{}}};return e||!n?!e||n?{query:{bool:{filter:[{bool:{must:[r,t]}}],adjust_pure_negative:!0,boost:1}}}:{query:{bool:{filter:[t],adjust_pure_negative:!0,boost:1}}}:{query:{bool:{filter:[r],adjust_pure_negative:!0,boost:1}}}}(r,n),r={target:Object.assign({},r,e,{track_total_hits:!0}),dev:{time_range:_objectSpread({},o),fields:tn}};return{result:en?r:JSON.stringify(r)}},f=_e("SourceAndSearchExpression"),l=function(r,t){return t&&t[1]&&0!==t.length?t[1]:{}},d=_e("SearchExpression"),b=function(r){return function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};var e=t.left,n=t.connector,o=t.right;var u="";n===$e&&(u="must");n===Ye&&(u="should");if(u)return{bool:(_defineProperty(n={},u,[r(e),r(o)]),_defineProperty(n,"adjust_pure_negative",!0),_defineProperty(n,"boost",1),n)};return t}(r)},i=_e("RegionOr"),a=function(r,t){return{connector:"OR",left:r,right:t}},A=_e("RegionAnd"),v=function(r,t){return{connector:"AND",left:r,right:t}},u=_e("FactorBlock"),y=function(r){return r},m=_e("BasicCondition"),g=function(r,t,e){if("="!==t&&(-1<e.indexOf("*")||-1<e.indexOf("?")))throw Error('模糊查询时只能使用等于[=]。例如：name="abcd?e"');if("="===t){if(-1<e.indexOf("*")||-1<e.indexOf("?")){if("?"===e.charAt(0)||1===e.length&&"*"===e)throw Error("避免使用*或开头模式?。这会增加查找匹配项所需的迭代次数，并降低搜索性能。");return{wildcard:_defineProperty({},r,{value:e})}}return{term:_defineProperty({},"".concat(r),{value:e,boost:1})}}if("!="===t)return{bool:{must_not:[{term:_defineProperty({},"".concat(r),{value:e,boost:1})}]}};t="<="===t?"lte":"<"===t?"lt":">="===t?"gte":">"===t?"gt":"";return t?{range:_defineProperty({},r,_defineProperty({},t,e))}:{}},_=_e("LikeCondition"),C=function(r,t){return{wildcard:_defineProperty({},r,{value:t})}},w=_e("InCondition"),T=function(r,t){var e;return{terms:(_defineProperty(e={},"".concat(r),t),_defineProperty(e,"boost",1),e)}},E=_e("NotInCondition"),O=function(r,t){var e;return{bool:{must_not:[{terms:(_defineProperty(e={},"".concat(r),t),_defineProperty(e,"boost",1),e)}]}}},S=_e("ExistsCondition"),x=function(r){return{bool:{must:[{exists:{field:r}},{bool:{must_not:[{term:_defineProperty({},"".concat(r,".keyword"),{value:"",boost:1})},{term:_defineProperty({},"".concat(r,".keyword"),{value:"-",boost:1})}]}}]}}},P=_e("NotExistsCondition"),j=function(r){return{bool:{should:[{bool:{must_not:[{exists:{field:r}}]}},{bool:{must:[{term:_defineProperty({},"".concat(r,".keyword"),{value:"",boost:1})}]}},{bool:{must:[{term:_defineProperty({},"".concat(r,".keyword"),{value:"-",boost:1})}]}}]}}},o=_e("MultipleValue"),I=function(r,t){t=[r].concat(t);return t.filter(function(r,t,e){return e.indexOf(r)===t})},n=_e("MoreMultipleValues"),L=",",R=me(",",!1),F=function(r){return r},k=(ge([["a","z"],["A","Z"],["0","9"],".","_","-","*","?"],!1,!1),'"'),M=me('"',!1),D=function(r){return r},N="'",z=me("'",!1),Z=_e("TailCommand"),H=_e("FieldsCommand"),U=function(r,t){var t=[r].concat(t),e=[],n=[];return t.forEach(function(r){var t=r.op,r=r.field;"+"===t&&e.push(r),"-"===t&&n.push(r)}),{_source:{includes:e,excludes:n}}},K=_e("SourceField"),V=function(r,t){return{op:r||"+",field:t}},q=_e("MoreSourceFields"),G=function(r){return r},B=(_e("TopCommand"),me("limit=",!1),_e("HeadCommand")),W=function(r){if(r<=0)throw Error("返回结果的数量至少为1");return{from:0,size:r}},X=_e("SortCommand"),J=function(r,t,e){var n,t=[[r,t]].concat(e),e={};return 0<t.length&&(n=[],t.forEach(function(r){var t=_slicedToArray(r,2),r=t[0],t=t[1];n.push(_defineProperty({},t,{order:r&&r!==rn?"desc":"asc"}))}),e.sort=n),e},Q=_e("MoreSort"),$=function(r,t){return[r,t]},Y=_e("GentimesCommand"),rr="start",tr=me("start",!0),er="end",nr=me("end",!0),or=function(r,t,e){var n="now";return 0<e.length&&(n=e[0][5]),{gentimes:{time_field:r,time_from:t,time_to:n}}},ur=_e("TimeValue"),ir=_e("RelativeTime"),ar="now-",cr=me("now-",!1),sr=ye,fr=_e("now"),lr="now",dr=me("now",!1),hr=ye,pr=_e("TimeUnit"),br="y",Ar=me("y",!1),vr="M",yr=me("M",!1),mr="w",gr=me("w",!1),_r="d",Cr=me("d",!1),wr="h",Tr=me("h",!1),Er="H",Or=me("H",!1),Sr="m",xr=me("m",!1),Pr="s",jr=me("s",!1),Ir=ye,Lr=(_e("AbsoluteTime"),_e("Timestamp")),Rr=function(r){if(13!==String(r).length)throw Error("请输入毫秒级的时间戳");return r},Fr=_e("UTCTime"),kr="-",Mr=me("-",!1),Dr="T",Nr=me("T",!1),zr=":",Zr=me(":",!1),Hr=function(r,t,e,n,o,u,i){if(i){var a=_slicedToArray(i,3),c=a[0],s=a[1],i=a[2],a=parseInt(s);if(12<a||a<-12)throw Error("错误的时区范围");if(i&&i.length<2||i&&2===i.length&&("0"!==i[0]||"0"!==i[1])||a<10&&("0"!==s.charAt(0)||"0"===s.charAt(0)&&2!==s.length))throw Error("时区格式错误. 未能解析日期字段 [".concat(ye(),"], 请输入 [").concat(c,"0").concat(a,"] 或 [").concat(c,"0").concat(a,":00]"));return ye()}return"".concat(ye(),"+08:00")},Ur=_e("TimeZone"),Kr="+",Vr=me("+",!1),qr=/^[0-9]/,Gr=ge([["0","9"]],!1,!1),Br="00",Wr=me("00",!1),Xr=":00",Jr=me(":00",!1),Qr=function(r,t,e){t=t.join("");return e=e||t.slice(2,4),[r,t.slice(0,2),e]},$r=(_e("SizeCommand"),_e("TimeoutCommand"),me("ms",!1),_e("TrackTotalCommand"),_e("TerminateAfterCommand"),/^[ \t\r\n]/),Yr=ge([" ","\t","\r","\n"],!1,!1),rt=/^[ ]/,tt=ge([" "],!1,!1),et=_e("DataSource"),nt=/^[a-zA-Z0-9._\-*]/,ot=ge([["a","z"],["A","Z"],["0","9"],".","_","-","*"],!1,!1),ut=_e("Field"),it=/^[A-Za-z0-9_.]/,at=ge([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),ct=function(r){r=r.join("");return-1===tn.indexOf(r)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD","timeout","TIMEOUT","track_total_hits","TRACK_TOTAL_HITS","terminate_after","TERMINATE_AFTER"].indexOf(r)&&tn.push(r),r},st=_e("Value"),ft=/^[\u4E00-\u9FA5_a-zA-Z0-9.\-?*:\/<>]/,lt=ge([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],".","-","?","*",":","/","<",">"],!1,!1),dt=_e("QuotedValue"),ht=/^[\u4E00-\u9FA5_a-zA-Z0-9.\-?*:\/<> ]/,pt=ge([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],".","-","?","*",":","/","<",">"," "],!1,!1),bt=function(r){return parseInt(r.join(""))},At="and",vt=me("AND",!0),yt="&&",mt=me("&&",!1),gt=function(){return $e},_t="or",Ct=me("OR",!0),wt="||",Tt=me("||",!1),Et=function(){return Ye},Ot=(me("true",!1),me("false",!1),"|"),St=me("|",!1),xt="=",Pt=me("=",!1),jt="!=",It=me("!=",!1),Lt=">=",Rt=me(">=",!1),Ft=">",kt=me(">",!1),Mt="<=",Dt=me("<=",!1),Nt="<",zt=me("<",!1),Zt="(",Ht=me("(",!1),Ut=")",Kt=me(")",!1),Vt="source",qt=me("SOURCE",!0),Gt="search",Bt=me("SEARCH",!0),Wt="fields",Xt=me("FIELDS",!0),Jt="head",Qt=me("HEAD",!0),$t="sort",Yt=me("SORT",!0),re="gentimes",te=me("GENTIMES",!0),ee=(me("SIZE",!0),me("TIMEOUT",!0),me("TRACK_TOTAL_HITS",!0),me("TERMINATE_AFTER",!0),me("TOP",!0),me("LIMIT",!0),"in"),ne=me("IN",!0),oe="not in",ue=me("NOT IN",!0),ie="like",ae=me("LIKE",!0),ce="exists",se=me("EXISTS",!0),fe="not_exists",le=me("NOT_EXISTS",!0),de=0,he=0,pe=[{line:1,column:1}],be=0,Ae=[],ve=0;if("startRule"in(r=void 0!==r?r:{})){if(!(r.startRule in t))throw new Error("Can't start parsing from rule \""+r.startRule+'".');e=t[r.startRule]}function ye(){return h.substring(he,de)}function me(r,t){return{type:"literal",text:r,ignoreCase:t}}function ge(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function _e(r){return{type:"other",description:r}}function Ce(r){var t,e=pe[r];if(e)return e;for(t=r-1;!pe[t];)t--;for(e={line:(e=pe[t]).line,column:e.column};t<r;)10===h.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return pe[r]=e}function we(r,t){var e=Ce(r),n=Ce(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Te(r){de<be||(be<de&&(be=de,Ae=[]),Ae.push(r))}function Ee(r,t,e){return new on(on.buildMessage(r,t),r,t,e)}function Oe(){return function(){var r,t,e,n,o,u,i,a;if(ve++,r=de,(t=function(){var r,t,e,n,o,u,i;ve++,t=r=de,t=(e=function(){var r;h.substr(de,6).toLowerCase()===Vt?(r=h.substr(de,6),de+=6):(r=p,0===ve&&Te(qt));return r}())!==p?(n=Ze(),n!==p?(o=Be())!==p?(u=Ze())!==p?(i=function(){var r,t,e;ve++,r=de,t=[],nt.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(ot));if(e!==p)for(;e!==p;)t.push(e),nt.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(ot));else t=p;r=t!==p?h.substring(r,de):t;ve--,r===p&&(t=p,0===ve&&Te(et));return r}())!==p?e=[e,n,o,u,i]:(de=t,p):(de=t,p):(de=t,p):(de=t,p)):(de=t,p);t===p&&(t=null);r=t!==p?(e=de,n=Ze(),(e=n!==p?(o=function(){var r,t,e,n,o,u;ve++,t=r=de,t=(e=Ge())!==p?(n=Ze(),n!==p?(o=function(){var r;h.substr(de,6).toLowerCase()===Gt?(r=h.substr(de,6),de+=6):(r=p,0===ve&&Te(Bt));return r}())!==p?(u=ze())!==p?e=[e,n,o,u]:(de=t,p):(de=t,p):(de=t,p)):(de=t,p);t===p&&(t=null);r=t!==p?(e=Se(),e!==p?(he=r,t=b(e)):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(d));return r}())!==p?n=[n,o]:(de=e,p):(de=e,p))===p&&(e=null),e!==p?(he=r,t=l(t,e)):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(f));return r}())!==p){for(e=[],n=de,(o=ze())===p&&(o=null),n=o!==p?(u=Ge())!==p?((i=ze())===p&&(i=null),i!==p?(a=Le())!==p?o=[o,u,i,a]:(de=n,p):(de=n,p)):(de=n,p):(de=n,p);n!==p;)e.push(n),n=de,(o=ze())===p&&(o=null),n=o!==p?(u=Ge())!==p?((i=ze())===p&&(i=null),i!==p?(a=Le())!==p?o=[o,u,i,a]:(de=n,p):(de=n,p)):(de=n,p):(de=n,p);r=e!==p?((n=Ze())===p&&(n=null),n!==p?(he=r,t=s(t,e)):(de=r,p)):(de=r,p)}else de=r,r=p;ve--,r===p&&(t=p,0===ve&&Te(c));return r}()}function Se(){var r,t,e,n,o,u;if(ve++,r=de,(t=xe())!==p){if(e=[],(n=He())!==p)for(;n!==p;)e.push(n),n=He();else e=p;if(e!==p)if((n=function(){var r,t;h.substr(de,2).toLowerCase()===_t?(r=h.substr(de,2),de+=2):(r=p,0===ve&&Te(Ct));r===p&&(r=de,h.substr(de,2)===wt?(t=wt,de+=2):(t=p,0===ve&&Te(Tt)),t!==p&&(he=r,t=Et()),r=t);return r}())!==p){if(o=[],(u=He())!==p)for(;u!==p;)o.push(u),u=He();else o=p;r=o!==p&&(u=Se())!==p?(he=r,t=a(t,u)):(de=r,p)}else de=r,r=p;else de=r,r=p}else de=r,r=p;return r===p&&(r=xe()),ve--,r===p&&(t=p,0===ve&&Te(i)),r}function xe(){var r,t,e,n,o,u;if(ve++,r=de,(t=Pe())!==p){if(e=[],(n=He())!==p)for(;n!==p;)e.push(n),n=He();else e=p;if(e!==p)if((n=function(){var r,t;h.substr(de,3).toLowerCase()===At?(r=h.substr(de,3),de+=3):(r=p,0===ve&&Te(vt));r===p&&(r=de,h.substr(de,2)===yt?(t=yt,de+=2):(t=p,0===ve&&Te(mt)),t!==p&&(he=r,t=gt()),r=t);return r}())!==p){if(o=[],(u=He())!==p)for(;u!==p;)o.push(u),u=He();else o=p;r=o!==p&&(u=xe())!==p?(he=r,t=v(t,u)):(de=r,p)}else de=r,r=p;else de=r,r=p}else de=r,r=p;return r===p&&(r=Pe()),ve--,r===p&&(t=p,0===ve&&Te(A)),r}function Pe(){var r,t,e,n,o;if(ve++,(r=function(){var r,t,e,n;ve++,r=de,r=(t=Ue())!==p?(n=Ze(),n!==p?((e=Be())===p&&(e=function(){var r;h.substr(de,2)===jt?(r=jt,de+=2):(r=p,0===ve&&Te(It));return r}())===p&&(e=function(){var r;h.substr(de,2)===Lt?(r=Lt,de+=2):(r=p,0===ve&&Te(Rt));return r}())===p&&(e=function(){var r;62===h.charCodeAt(de)?(r=Ft,de++):(r=p,0===ve&&Te(kt));return r}())===p&&(e=function(){var r;h.substr(de,2)===Mt?(r=Mt,de+=2):(r=p,0===ve&&Te(Dt));return r}())===p&&(e=function(){var r;60===h.charCodeAt(de)?(r=Nt,de++):(r=p,0===ve&&Te(zt));return r}()),e!==p?Ze()!==p?(n=Ke())!==p?(he=r,t=g(t,e,n)):(de=r,p):(de=r,p):(de=r,p)):(de=r,p)):(de=r,p);r===p&&(r=function(){var r,t,e;ve++,r=de,r=(t=Ue())!==p?(e=ze(),e!==p?function(){var r;h.substr(de,4).toLowerCase()===ie?(r=h.substr(de,4),de+=4):(r=p,0===ve&&Te(ae));return r}()!==p?ze()!==p?(e=Ke())!==p?(he=r,t=C(t,e)):(de=r,p):(de=r,p):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(_));return r}())===p&&(r=function(){var r,t,e;ve++,r=de,r=(t=Ue())!==p?(e=ze(),e!==p?function(){var r;h.substr(de,2).toLowerCase()===ee?(r=h.substr(de,2),de+=2):(r=p,0===ve&&Te(ne));return r}()!==p?ze()!==p?Je()!==p?Ze()!==p?(e=je())!==p?Ze()!==p?Qe()!==p?(he=r,t=T(t,e)):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(w));return r}())===p&&(r=function(){var r,t,e;ve++,r=de,r=(t=Ue())!==p?(e=ze(),e!==p?function(){var r;h.substr(de,6).toLowerCase()===oe?(r=h.substr(de,6),de+=6):(r=p,0===ve&&Te(ue));return r}()!==p?ze()!==p?Je()!==p?Ze()!==p?(e=je())!==p?Ze()!==p?Qe()!==p?(he=r,t=O(t,e)):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(E));return r}())===p&&(r=function(){var r,t,e;ve++,r=de,r=(t=Ue())!==p?(e=ze(),e!==p?function(){var r;h.substr(de,6).toLowerCase()===ce?(r=h.substr(de,6),de+=6):(r=p,0===ve&&Te(se));return r}()!==p?(he=r,t=x(t)):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(S));return r}())===p&&(r=function(){var r,t,e;ve++,r=de,r=(t=Ue())!==p?(e=ze(),e!==p?function(){var r;h.substr(de,10).toLowerCase()===fe?(r=h.substr(de,10),de+=10):(r=p,0===ve&&Te(le));return r}()!==p?(he=r,t=j(t)):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(P));return r}());ve--,r===p&&(t=p,0===ve&&Te(m));return r}())===p)if(r=de,Je()!==p){for(t=[],e=He();e!==p;)t.push(e),e=He();if(t!==p)if((e=Se())!==p){for(n=[],o=He();o!==p;)n.push(o),o=He();r=n!==p&&(o=Qe())!==p?(he=r,y(e)):(de=r,p)}else de=r,r=p;else de=r,r=p}else de=r,r=p;return ve--,r===p&&(0===ve&&Te(u)),r}function je(){var r,t,e,n;if(ve++,r=de,(t=Ke())!==p){for(e=[],n=Ie();n!==p;)e.push(n),n=Ie();r=e!==p?(he=r,t=I(t,e)):(de=r,p)}else de=r,r=p;return ve--,r===p&&(t=p,0===ve&&Te(o)),r}function Ie(){var r,t,e;return ve++,r=de,r=Ze()!==p?(44===h.charCodeAt(de)?(t=L,de++):(t=p,0===ve&&Te(R)),t!==p&&Ze()!==p&&(e=Ke())!==p?(he=r,F(e)):(de=r,p)):(de=r,p),ve--,r===p&&(0===ve&&Te(n)),r}function Le(){var r;return ve++,(r=function(){var r,t,e,n;if(ve++,r=de,Ze()!==p)if(function(){var r;h.substr(de,6).toLowerCase()===Wt?(r=h.substr(de,6),de+=6):(r=p,0===ve&&Te(Xt));return r}()!==p)if(ze()!==p)if((t=Re())!==p){for(e=[],n=Fe();n!==p;)e.push(n),n=Fe();r=e!==p?(he=r,U(t,e)):(de=r,p)}else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;ve--,r===p&&(0===ve&&Te(H));return r}())===p&&(r=function(){var r,t;ve++,r=de,r=Ze()!==p?(t=function(){var r;h.substr(de,4).toLowerCase()===Jt?(r=h.substr(de,4),de+=4):(r=p,0===ve&&Te(Qt));return r}(),t!==p?ze()!==p?(t=qe())!==p?(he=r,W(t)):(de=r,p):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(0===ve&&Te(B));return r}())===p&&(r=function(){var r,t,e,n,o;if(ve++,r=de,Ze()!==p)if(function(){var r;h.substr(de,4).toLowerCase()===$t?(r=h.substr(de,4),de+=4):(r=p,0===ve&&Te(Yt));return r}()!==p)if(ze()!==p)if((t=We())===p&&(t=Xe()),t===p&&(t=null),t!==p)if((e=Ue())!==p){for(n=[],o=ke();o!==p;)n.push(o),o=ke();r=n!==p?(he=r,J(t,e,n)):(de=r,p)}else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;ve--,r===p&&(0===ve&&Te(X));return r}())===p&&(r=function(){var r,t,e,n,o,u,i,a,c,s,f,l;if(ve++,r=de,Ze()!==p)if(function(){var r;h.substr(de,8).toLowerCase()===re?(r=h.substr(de,8),de+=8):(r=p,0===ve&&Te(te));return r}()!==p)if(ze()!==p)if((t=Ue())!==p)if(ze()!==p)if(h.substr(de,5).toLowerCase()===rr?(e=h.substr(de,5),de+=5):(e=p,0===ve&&Te(tr)),e!==p)if(Ze()!==p)if(Be()!==p)if(Ze()!==p)if((e=Me())!==p){for(n=[],o=de,u=ze(),o=u!==p?(h.substr(de,3).toLowerCase()===er?(i=h.substr(de,3),de+=3):(i=p,0===ve&&Te(nr)),i!==p?(a=Ze())!==p?(c=Be())!==p?(s=Ze())!==p?(f=Me())!==p?(l=Ze())!==p?u=[u,i,a,c,s,f,l]:(de=o,p):(de=o,p):(de=o,p):(de=o,p):(de=o,p):(de=o,p)):(de=o,p);o!==p;)n.push(o),o=de,u=ze(),o=u!==p?(h.substr(de,3).toLowerCase()===er?(i=h.substr(de,3),de+=3):(i=p,0===ve&&Te(nr)),i!==p?(a=Ze())!==p?(c=Be())!==p?(s=Ze())!==p?(f=Me())!==p?(l=Ze())!==p?u=[u,i,a,c,s,f,l]:(de=o,p):(de=o,p):(de=o,p):(de=o,p):(de=o,p):(de=o,p)):(de=o,p);r=n!==p?(he=r,or(t,e,n)):(de=r,p)}else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;else de=r,r=p;ve--,r===p&&(0===ve&&Te(Y));return r}()),ve--,r===p&&(0===ve&&Te(Z)),r}function Re(){var r,t,e,n,o;return ve++,r=de,(t=ze())===p&&(t=null),r=t!==p?((e=We())===p&&(e=Xe()),e===p&&(e=null),e!==p?((n=ze())===p&&(n=null),n!==p&&(o=Ue())!==p?(he=r,t=V(e,o)):(de=r,p)):(de=r,p)):(de=r,p),ve--,r===p&&(t=p,0===ve&&Te(K)),r}function Fe(){var r,t,e;return ve++,r=de,r=Ze()!==p?(44===h.charCodeAt(de)?(t=L,de++):(t=p,0===ve&&Te(R)),t!==p&&Ze()!==p&&(e=Re())!==p?(he=r,G(e)):(de=r,p)):(de=r,p),ve--,r===p&&(0===ve&&Te(q)),r}function ke(){var r,t,e;return ve++,r=de,r=Ze()!==p?(44===h.charCodeAt(de)?(t=L,de++):(t=p,0===ve&&Te(R)),t!==p&&Ze()!==p?((t=We())===p&&(t=Xe()),t===p&&(t=null),t!==p&&(e=Ue())!==p?(he=r,$(t,e)):(de=r,p)):(de=r,p)):(de=r,p),ve--,r===p&&(0===ve&&Te(Q)),r}function Me(){var r,t,e,n;return ve++,(r=function(){var r,t,e,n;ve++,r=de,h.substr(de,4)===ar?(t=ar,de+=4):(t=p,0===ve&&Te(cr));r=t!==p?(e=qe(),e!==p?(n=function(){var r,t;ve++,r=de,121===h.charCodeAt(de)?(t=br,de++):(t=p,0===ve&&Te(Ar));t===p&&(77===h.charCodeAt(de)?(t=vr,de++):(t=p,0===ve&&Te(yr)),t===p&&(119===h.charCodeAt(de)?(t=mr,de++):(t=p,0===ve&&Te(gr)),t===p&&(100===h.charCodeAt(de)?(t=_r,de++):(t=p,0===ve&&Te(Cr)),t===p&&(104===h.charCodeAt(de)?(t=wr,de++):(t=p,0===ve&&Te(Tr)),t===p&&(72===h.charCodeAt(de)?(t=Er,de++):(t=p,0===ve&&Te(Or)),t===p&&(109===h.charCodeAt(de)?(t=Sr,de++):(t=p,0===ve&&Te(xr)),t===p&&(115===h.charCodeAt(de)?(t=Pr,de++):(t=p,0===ve&&Te(jr)))))))));t!==p&&(he=r,t=Ir());ve--,(r=t)===p&&(t=p,0===ve&&Te(pr));return r}())!==p?(he=r,t=sr(e,n)):(de=r,p):(de=r,p)):(de=r,p);ve--,r===p&&(t=p,0===ve&&Te(ir));return r}())===p&&(r=Ne())===p&&(r=De())===p&&(r=function(){var r,t;ve++,r=de,h.substr(de,3)===lr?(t=lr,de+=3):(t=p,0===ve&&Te(dr));t!==p&&(he=r,t=hr());ve--,(r=t)===p&&(t=p,0===ve&&Te(fr));return r}())===p&&(r=de,34===h.charCodeAt(de)?(t=k,de++):(t=p,0===ve&&Te(M)),(r=t!==p&&(e=Me())!==p?(34===h.charCodeAt(de)?(n=k,de++):(n=p,0===ve&&Te(M)),n!==p?(he=r,t=D(e)):(de=r,p)):(de=r,p))===p&&(r=de,39===h.charCodeAt(de)?(t=N,de++):(t=p,0===ve&&Te(z)),r=t!==p&&(e=Me())!==p?(39===h.charCodeAt(de)?(n=N,de++):(n=p,0===ve&&Te(z)),n!==p?(he=r,t=D(e)):(de=r,p)):(de=r,p))),ve--,r===p&&(t=p,0===ve&&Te(ur)),r}function De(){var r,t;return ve++,r=de,(t=qe())!==p&&(he=r,t=Rr(t)),ve--,(r=t)===p&&(t=p,0===ve&&Te(Lr)),r}function Ne(){var r,t,e,n,o,u,i,a,c,s,f,l,d;return ve++,r=de,r=(t=qe())!==p?(45===h.charCodeAt(de)?(e=kr,de++):(e=p,0===ve&&Te(Mr)),e!==p&&(n=qe())!==p?(45===h.charCodeAt(de)?(o=kr,de++):(o=p,0===ve&&Te(Mr)),o!==p&&(u=qe())!==p?(84===h.charCodeAt(de)?(i=Dr,de++):(i=p,0===ve&&Te(Nr)),i!==p&&(a=qe())!==p?(58===h.charCodeAt(de)?(c=zr,de++):(c=p,0===ve&&Te(Zr)),c!==p&&(s=qe())!==p?(58===h.charCodeAt(de)?(f=zr,de++):(f=p,0===ve&&Te(Zr)),f!==p&&(l=qe())!==p&&(d=function(){var r,t,e,n;ve++,r=de,43===h.charCodeAt(de)?(t=Kr,de++):(t=p,0===ve&&Te(Vr));t===p&&(45===h.charCodeAt(de)?(t=kr,de++):(t=p,0===ve&&Te(Mr)));if(t!==p){if(e=[],qr.test(h.charAt(de))?(n=h.charAt(de),de++):(n=p,0===ve&&Te(Gr)),n!==p)for(;n!==p;)e.push(n),qr.test(h.charAt(de))?(n=h.charAt(de),de++):(n=p,0===ve&&Te(Gr));else e=p;r=e!==p?(h.substr(de,2)===Br?(n=Br,de+=2):(n=p,0===ve&&Te(Wr)),n===p&&(h.substr(de,3)===Xr?(n=Xr,de+=3):(n=p,0===ve&&Te(Jr))),n===p&&(n=null),n!==p?(he=r,t=Qr(t,e,n)):(de=r,p)):(de=r,p)}else de=r,r=p;ve--,r===p&&(t=p,0===ve&&Te(Ur));return r}())!==p?(he=r,t=Hr(t,n,u,a,s,l,d)):(de=r,p)):(de=r,p)):(de=r,p)):(de=r,p)):(de=r,p)):(de=r,p),ve--,r===p&&(t=p,0===ve&&Te(Fr)),r}function ze(){var r,t=[];if($r.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Yr)),r!==p)for(;r!==p;)t.push(r),$r.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Yr));else t=p;return t}function Ze(){var r,t=[];for($r.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Yr));r!==p;)t.push(r),$r.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Yr));return t}function He(){var r;return rt.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(tt)),r}function Ue(){var r,t,e;if(ve++,r=de,t=[],it.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(at)),e!==p)for(;e!==p;)t.push(e),it.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(at));else t=p;return t!==p&&(he=r,t=ct(t)),ve--,(r=t)===p&&(t=p,0===ve&&Te(ut)),r}function Ke(){var r,t,e,n;if(ve++,r=de,t=[],ft.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(lt)),e!==p)for(;e!==p;)t.push(e),ft.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(lt));else t=p;return(r=t!==p?h.substring(r,de):t)===p&&(r=de,34===h.charCodeAt(de)?(t=k,de++):(t=p,0===ve&&Te(M)),(r=t!==p&&(e=Ve())!==p?(34===h.charCodeAt(de)?(n=k,de++):(n=p,0===ve&&Te(M)),n!==p?(he=r,t=D(e)):(de=r,p)):(de=r,p))===p&&(r=de,39===h.charCodeAt(de)?(t=N,de++):(t=p,0===ve&&Te(z)),r=t!==p&&(e=Ve())!==p?(39===h.charCodeAt(de)?(n=N,de++):(n=p,0===ve&&Te(z)),n!==p?(he=r,t=D(e)):(de=r,p)):(de=r,p))),ve--,r===p&&(t=p,0===ve&&Te(st)),r}function Ve(){var r,t,e;if(ve++,r=de,t=[],ht.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(pt)),e!==p)for(;e!==p;)t.push(e),ht.test(h.charAt(de))?(e=h.charAt(de),de++):(e=p,0===ve&&Te(pt));else t=p;return r=t!==p?h.substring(r,de):t,ve--,r===p&&(t=p,0===ve&&Te(dt)),r}function qe(){var r,t=de,e=[];if(qr.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Gr)),r!==p)for(;r!==p;)e.push(r),qr.test(h.charAt(de))?(r=h.charAt(de),de++):(r=p,0===ve&&Te(Gr));else e=p;return e!==p&&(he=t,e=bt(e)),t=e}function Ge(){var r;return 124===h.charCodeAt(de)?(r=Ot,de++):(r=p,0===ve&&Te(St)),r}function Be(){var r;return 61===h.charCodeAt(de)?(r=xt,de++):(r=p,0===ve&&Te(Pt)),r}function We(){var r;return 43===h.charCodeAt(de)?(r=Kr,de++):(r=p,0===ve&&Te(Vr)),r}function Xe(){var r;return 45===h.charCodeAt(de)?(r=kr,de++):(r=p,0===ve&&Te(Mr)),r}function Je(){var r;return 40===h.charCodeAt(de)?(r=Zt,de++):(r=p,0===ve&&Te(Ht)),r}function Qe(){var r;return 41===h.charCodeAt(de)?(r=Ut,de++):(r=p,0===ve&&Te(Kt)),r}var $e="AND",Ye="OR",rn="+",tn=[],en=void 0!==(r=r.json)&&r;function nn(r){return!r||0===Object.keys(r).length}if((e=e())!==p&&de===h.length)return e;throw e!==p&&de<h.length&&Te({type:"end"}),Ee(Ae,be<h.length?h.charAt(be):null,be<h.length?we(be,be+1):we(be,be))}}});